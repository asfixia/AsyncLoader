<!DOCTYPE html>
<head>
    <script src="asyncloader.js"></script>
    <script type="text/javascript">
        function loadScriptsWithCallback() {
            var inputs = document.getElementsByTagName('input');
            var resources = [];
            for (var i = inputs.length - 1; i >= 0; i--) {
                var curValue = inputs[i].value;
                if (curValue.length > 0)
                    resources.push(curValue);
            }


            AsyncLoader.loadScriptOnce(resources, eval('(function() {' + document.getElementById('txt').value + ' })'));
        }
    </script>
</head>
<body>
    <h1>Example with 3 scripts together, the scripts are loaded only once:</h1>
    <div>
        First resource:  <input type="text" size=70 value="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"/><br>
        Second resource: <input type="text" size=70 value="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"/><br>
        Third resource:  <input type="text" size=70 value="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css"/><br>
    </div>
    <button onclick="loadScriptsWithCallback();">Load all scripts, then after, run my function.</button>
    <h1>Function to run after load.</h1>
<textarea id="txt" style="width: 729px;height: 151px;">
alert("loaded, Now you can drag around the square.");
$( "#draggable" ).draggable();
</textarea>

    <div style="width:200px;height:200px;" id="draggable" class="ui-widget-content">
        <p>Drag me around</p>
    </div>
</body>
</html>